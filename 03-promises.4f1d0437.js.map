{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGMC,EAASC,SAASC,cAAc,SAChCC,EAAWH,EAAOI,iBACQC,EAAAL,EAAOM,SAA/BC,EAAwBF,EAAxBG,MAAOC,EAAiBJ,EAAjBK,KAAMC,EAAWN,EAAXO,OACjBC,EAAgB,EA2BpB,SAASC,EAAgBC,GAYzB,IAAuBC,EAAUC,EACzBC,GADeF,EAXrBH,GAAiB,EAWcI,EATFF,EAUvBG,EAAgBC,KAAKC,SAAW,GAE/B,IAAIC,SAAQ,SAACC,EAASC,GACvBL,EACFI,EAAQ,CAAEN,WAAUR,MAAAS,IAEpBM,EAAO,CAAEP,WAAUR,MAAAS,G,KAfpBO,MAAK,SAAAC,G,IAAGT,EAAQS,EAART,SAAUU,EAAKD,EAALjB,MACjBmB,EAAA7B,GAAS8B,OAAOC,QAAQ,qBAAoCC,OAAfd,EAAS,QAAYc,OAANJ,EAAM,M,IAEnEK,OAAM,SAAAN,G,IAAGT,EAAQS,EAART,SAAUU,EAAKD,EAALjB,MAClBmB,EAAA7B,GAAS8B,OAAOI,QAAQ,oBAAmCF,OAAfd,EAAS,QAAYc,OAANJ,EAAM,M,IAgBvEvB,EAAS8B,iBAAiB,SAjD1B,SAA6BC,GAC3BA,EAAEC,iBACFtB,EAAgB,EAChBV,EAASiC,aAAa,WAAY,IAElC,IAAIC,EAAmBC,OAAOC,SAAShC,EAAMiC,OACvCC,EAAkBH,OAAOC,SAAS9B,EAAK+B,OAE7CE,YAAW,WACT5B,EAAgBP,EAAMiC,OAEtB,IAAMG,EAAaC,aAAY,WAC7B,GAAI/B,GAAiBF,EAAO6B,MAG1B,OAFAK,cAAcF,QACdxC,EAAS2C,gBAAgB,YAM3BhC,EAFAuB,GAAoBI,E,GAGnBA,E,GACFJ,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\nimport \"notiflix/dist/notiflix-3.2.6.min.css\";\n\nconst formEl = document.querySelector(\".form\");\nconst buttonEl = formEl.lastElementChild;\nconst { delay, step, amount } = formEl.elements;\nlet promiseNumber = 0;\n\nfunction startCreatePromises(e) {\n  e.preventDefault();\n  promiseNumber = 0;\n  buttonEl.setAttribute(\"disabled\", \"\");\n\n  let delayNumberValue = Number.parseInt(delay.value);\n  const stepNumberValue = Number.parseInt(step.value);\n\n  setTimeout(() => {\n    promiseInterval(delay.value);\n\n    const intervalId = setInterval(() => {\n      if (promiseNumber >= amount.value) {\n        clearInterval(intervalId);\n        buttonEl.removeAttribute(\"disabled\");\n        return;\n      }\n\n      delayNumberValue += stepNumberValue;\n\n      promiseInterval(delayNumberValue);\n    }, stepNumberValue);\n  }, delayNumberValue);\n}\n\nfunction promiseInterval(delay) {\n  promiseNumber += 1;\n\n  createPromise(promiseNumber, delay)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    });\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\nbuttonEl.addEventListener(\"click\", startCreatePromises);\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$buttonEl","lastElementChild","$ce04d3a99e08e73b$var$_elements","elements","$ce04d3a99e08e73b$var$delay","delay","$ce04d3a99e08e73b$var$step","step","$ce04d3a99e08e73b$var$amount","amount","$ce04d3a99e08e73b$var$promiseNumber","$ce04d3a99e08e73b$var$promiseInterval","delay1","position","delay2","shouldResolve","Math","random","Promise","resolve","reject","then","param","_$delay","$parcel$interopDefault","Notify","success","concat","catch","failure","addEventListener","e","preventDefault","setAttribute","delayNumberValue","Number","parseInt","value","stepNumberValue","setTimeout","intervalId","setInterval","clearInterval","removeAttribute"],"version":3,"file":"03-promises.4f1d0437.js.map"}