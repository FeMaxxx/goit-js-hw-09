{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAASC,SAASC,cAAc,SAChCC,EAAWH,EAAOI,kBAClBC,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,GAAWV,EAAOW,SACvC,IAAIC,EAAgB,EA2BpB,SAASC,EAAgBC,GACvBF,GAAiB,EAWnB,SAAuBG,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFI,EAAQ,C,SAAEN,EAAUV,MAAAW,IAEpBM,EAAO,C,SAAEP,EAAUV,MAAAW,GAAQ,G,CAhB/BO,CAAcX,EAAeE,GAC1BU,MAAK,EAACT,SAAEA,EAAUV,MAAAoB,MACjBC,EAAA5B,GAAS6B,OAAOC,QAAQ,qBAAqBb,QAAeU,MAAU,IAEvEI,OAAM,EAACd,SAAEA,EAAUV,MAAAyB,MAClBJ,EAAA5B,GAAS6B,OAAOI,QAAQ,oBAAoBhB,QAAee,MAAU,G,CAgB3E3B,EAAS6B,iBAAiB,SAjD1B,SAA6BC,GAC3BA,EAAEC,iBACFtB,EAAgB,EAChBT,EAASgC,aAAa,WAAY,IAElC,IAAIC,EAAmBC,OAAOC,SAAShC,EAAMiC,OAC7C,MAAMC,EAAkBH,OAAOC,SAAS9B,EAAK+B,OAE7CE,YAAW,KACT5B,EAAgBP,EAAMiC,OAEtB,MAAMG,EAAaC,aAAY,KAC7B,GAAI/B,GAAiBF,EAAO6B,MAG1B,OAFAK,cAAcF,QACdvC,EAAS0C,gBAAgB,YAI3BT,GAAoBI,EAEpB3B,EAAgBuB,EAAiB,GAChCI,EAAgB,GAClBJ,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\nimport \"notiflix/dist/notiflix-3.2.6.min.css\";\n\nconst formEl = document.querySelector(\".form\");\nconst buttonEl = formEl.lastElementChild;\nconst { delay, step, amount } = formEl.elements;\nlet promiseNumber = 0;\n\nfunction startCreatePromises(e) {\n  e.preventDefault();\n  promiseNumber = 0;\n  buttonEl.setAttribute(\"disabled\", \"\");\n\n  let delayNumberValue = Number.parseInt(delay.value);\n  const stepNumberValue = Number.parseInt(step.value);\n\n  setTimeout(() => {\n    promiseInterval(delay.value);\n\n    const intervalId = setInterval(() => {\n      if (promiseNumber >= amount.value) {\n        clearInterval(intervalId);\n        buttonEl.removeAttribute(\"disabled\");\n        return;\n      }\n\n      delayNumberValue += stepNumberValue;\n\n      promiseInterval(delayNumberValue);\n    }, stepNumberValue);\n  }, delayNumberValue);\n}\n\nfunction promiseInterval(delay) {\n  promiseNumber += 1;\n\n  createPromise(promiseNumber, delay)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    });\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\nbuttonEl.addEventListener(\"click\", startCreatePromises);\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$buttonEl","lastElementChild","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","elements","$47d4ff9957288465$var$promiseNumber","$47d4ff9957288465$var$promiseInterval","delay1","position","delay4","shouldResolve","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","delay2","$parcel$interopDefault","Notify","success","catch","delay3","failure","addEventListener","e","preventDefault","setAttribute","delayNumberValue","Number","parseInt","value","stepNumberValue","setTimeout","intervalId","setInterval","clearInterval","removeAttribute"],"version":3,"file":"03-promises.cc4c0917.js.map"}